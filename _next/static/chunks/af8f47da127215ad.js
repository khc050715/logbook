(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,n)=>{t.exports=e.r(76562)},53525,e=>{"use strict";var t=e.i(43476),n=e.i(71645),r=e.i(18566),a=e.i(95695);function o({onChange:e}){let r=(0,n.useRef)(null),a=(0,n.useRef)(null),o=(0,n.useRef)(!1),i=(0,n.useRef)(null),s=()=>{if(r.current)e((function e(t){let n="";return t.childNodes.forEach(t=>n+=function(t){if(3===t.nodeType)return t.textContent.replace(/\u00A0/g," ");if(1===t.nodeType){if("BR"===t.tagName)return"  \n";if("DIV"===t.tagName)return"  \n"+e(t);if(t.classList.contains("ink-word-wet")){let e=t.textContent,n=t.dataset.opacity||1;return`<span style="color:rgba(0,0,0,${n})">${e}</span>`}return e(t)}return""}(t)),n})(r.current).trim())},l=()=>{i.current&&clearTimeout(i.current),i.current=setTimeout(s,100)};return(0,n.useEffect)(()=>{let e=r.current;if(!e)return;let t=e=>{let t=Date.now();if("Enter"===e.key||"Backspace"===e.key){a.current=t,l();return}if(" "===e.key){if(o.current)return;e.preventDefault(),(e=>{let t=window.getSelection();if(!t.rangeCount)return;let n=t.getRangeAt(0),r=n.startContainer;if(3===r.nodeType){let a=r.textContent,o=n.startOffset,i=a.lastIndexOf(" ",o-1),s=Math.max(a.lastIndexOf(" ",o-1),i)+1,u=a.slice(s,o);if(u.trim().length>0){let n=e/u.length/900;n<.2&&(n=.2),n>1&&(n=1);let a=document.createRange();a.setStart(r,s),a.setEnd(r,o),a.deleteContents();let i=document.createElement("span");i.className="ink-word-wet",i.textContent=u,i.style.color="#000",i.dataset.opacity=n.toFixed(2);let c=document.createTextNode(" "),d=document.createDocumentFragment();d.appendChild(i),d.appendChild(c),a.insertNode(d);let f=document.createRange();f.setStartAfter(c),f.collapse(!0),t.removeAllRanges(),t.addRange(f),requestAnimationFrame(()=>{i.style.color=`rgba(0,0,0,${n})`}),l()}}})(t-(a.current||t)),a.current=t}a.current||(a.current=t)},n=()=>{a.current||(a.current=Date.now())};return e.addEventListener("keydown",t),e.addEventListener("input",l),e.addEventListener("focus",n),e.addEventListener("compositionstart",()=>{o.current=!0}),e.addEventListener("compositionend",()=>{o.current=!1}),()=>{e.removeEventListener("keydown",t),e.removeEventListener("input",l),e.removeEventListener("focus",n)}},[]),(0,t.jsx)("div",{ref:r,className:"sentimental-editor",contentEditable:"true",spellCheck:"false"})}function i(){let[e,i]=(0,n.useState)(""),[s,l]=(0,n.useState)(""),u=(0,r.useRouter)(),c=async t=>{if(t.preventDefault(),!e||!s)return alert("내용을 채워주세요");await (0,a.createPost)(e,s)&&(alert("저장 완료!"),u.push("/"))};return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,t.jsx)("h1",{children:"글 쓰기"})," ",(0,t.jsx)("input",{type:"text",placeholder:"제목",value:e,onChange:e=>i(e.target.value),style:{padding:"10px",fontSize:"1.2rem",border:"1px solid #ddd"}}),(0,t.jsx)(o,{onChange:l}),(0,t.jsx)("button",{onClick:c,style:{padding:"15px",background:"black",color:"white",cursor:"pointer"},children:"발행하기"})]})}e.s(["default",()=>i],53525)}]);