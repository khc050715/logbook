(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,r)=>{t.exports=e.r(76562)},53525,e=>{"use strict";var t=e.i(43476),r=e.i(71645),n=e.i(18566),l=e.i(95695);function a({onChange:e}){let n=(0,r.useRef)(null),l=(0,r.useRef)({wordStartTime:null,lastSpaceTime:null,lastSpan:null,baseDuration:0,lingeringTimer:null}),a=(e,t)=>Math.min(Math.max(e/(t||1)/700,.2),1);return(0,r.useEffect)(()=>{let t=n.current;if(!t)return;let r=e=>{let t=Date.now();" "===e.key?(()=>{let{wordStartTime:e,lingeringTimer:t}=l.current;t&&clearInterval(t);let r=window.getSelection();if(!r.rangeCount)return;let n=r.getRangeAt(0),i=n.startContainer;if(3===i.nodeType){let t=i.textContent,o=n.startOffset,u=t.lastIndexOf(" ",o-2),c=Math.max(t.lastIndexOf(" ",o-2),u)+1,s=o-1,d=t.slice(c,s);if(d.trim().length>0){let t=document.createRange();t.setStart(i,c),t.setEnd(i,s),t.deleteContents();let n=document.createElement("span");n.className="ink-word-wet",n.textContent=d;let o=Date.now(),u=o-(e||o);l.current.baseDuration=u;let g=a(u,d.length);n.style.color=`rgba(0,0,0,${g})`;let m=document.createDocumentFragment();m.appendChild(n),t.insertNode(m);let p=document.createRange();p.setStartAfter(n),p.collapse(!0),r.removeAllRanges(),r.addRange(p),l.current.lastSpan=n,l.current.lastSpaceTime=Date.now(),((e,t)=>{let{baseDuration:r,lastSpaceTime:n}=l.current;l.current.lingeringTimer=setInterval(()=>{if(!e)return;let i=a(r+(Date.now()-n),t);e.style.color=`rgba(0,0,0,${i})`,e.dataset.opacity=i.toFixed(2),i>=1&&clearInterval(l.current.lingeringTimer)},100)})(n,d.length)}}})():1===e.key.length?(l.current.lingeringTimer&&(clearInterval(l.current.lingeringTimer),l.current.lingeringTimer=null,l.current.lastSpan=null),l.current.wordStartTime||(l.current.wordStartTime=t)):"Enter"===e.key&&(l.current.lingeringTimer&&clearInterval(l.current.lingeringTimer),l.current.wordStartTime=null)},i=()=>{l.current.wordStartTime||(l.current.wordStartTime=Date.now()),(()=>{if(!n.current)return;let t=e=>{if(3===e.nodeType)return e.textContent.replace(/\u00A0/g," ");if(1===e.nodeType){if("BR"===e.tagName)return"  \n";if("DIV"===e.tagName)return"  \n"+r(e);if(e.classList.contains("ink-word-wet")){let t=e.textContent,r=e.style.color.replace(/[^\d.]/g,"").split(",").pop()||e.dataset.opacity||1;return`<span style="color:rgba(0,0,0,${r})">${t}</span>`}return r(e)}return""},r=e=>{let r="";return e.childNodes.forEach(e=>r+=t(e)),r};e(t(n.current).trim())})()};return t.addEventListener("keydown",r),t.addEventListener("input",i),()=>{t.removeEventListener("keydown",r),t.removeEventListener("input",i),l.current.lingeringTimer&&clearInterval(l.current.lingeringTimer)}},[]),(0,t.jsx)("div",{ref:n,className:"sentimental-editor",contentEditable:"true",spellCheck:"false"})}function i(){let[e,i]=(0,r.useState)(""),[o,u]=(0,r.useState)(""),c=(0,n.useRouter)(),s=async t=>{if(t.preventDefault(),!e||!o)return alert("내용을 채워주세요");await (0,l.createPost)(e,o)&&(alert("저장 완료!"),c.push("/"))};return(0,t.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"15px"},children:[(0,t.jsx)("h1",{children:"글 쓰기"})," ",(0,t.jsx)("input",{type:"text",placeholder:"제목",value:e,onChange:e=>i(e.target.value),style:{padding:"10px",fontSize:"1.2rem",border:"1px solid #ddd"}}),(0,t.jsx)(a,{onChange:u}),(0,t.jsx)("button",{onClick:s,style:{padding:"15px",background:"black",color:"white",cursor:"pointer"},children:"발행하기"})]})}e.s(["default",()=>i],53525)}]);