(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,26973,e=>{"use strict";var t=e.i(21052);e.i(36180);var r=e.i(98925);let n="posts",o=e=>{let t=e.data(),r=t.createdAt?.toDate?t.createdAt.toDate().toISOString():t.createdAt,n=t.updatedAt?.toDate?t.updatedAt.toDate().toISOString():t.updatedAt;return{id:e.id,...t,createdAt:r,updatedAt:n}};e.s(["PostService",0,{async create(e,o){try{return await (0,r.addDoc)((0,r.collection)(t.db,n),{title:e,content:o,createdAt:new Date().toISOString()}),!0}catch(e){return console.error("Error creating post:",e),!1}},async getAll(){let e=(0,r.query)((0,r.collection)(t.db,n),(0,r.orderBy)("createdAt","desc"));return(await (0,r.getDocs)(e)).docs.map(o)},async getById(e){let l=(0,r.doc)(t.db,n,e),d=await (0,r.getDoc)(l);return d.exists()?o(d):null},async update(e,o,l){try{let d=(0,r.doc)(t.db,n,e);return await (0,r.updateDoc)(d,{title:o,content:l,updatedAt:new Date().toISOString()}),!0}catch(e){return console.error("Error updating post:",e),!1}},async delete(e){try{return await (0,r.deleteDoc)((0,r.doc)(t.db,n,e)),!0}catch(e){return console.error("Error deleting post:",e),!1}}}])},18566,(e,t,r)=>{t.exports=e.r(76562)},67585,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"BailoutToCSR",{enumerable:!0,get:function(){return o}});let n=e.r(32061);function o({reason:e,children:t}){if("undefined"==typeof window)throw Object.defineProperty(new n.BailoutToCSRError(e),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return t}},9885,(e,t,r)=>{"use strict";function n(e){return e.split("/").map(e=>encodeURIComponent(e)).join("/")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"encodeURIPath",{enumerable:!0,get:function(){return n}})},52157,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"PreloadChunks",{enumerable:!0,get:function(){return a}});let n=e.r(18050),o=e.r(74080),l=e.r(63599),d=e.r(9885);function a({moduleIds:e}){if("undefined"!=typeof window)return null;let t=l.workAsyncStorage.getStore();if(void 0===t)return null;let r=[];if(t.reactLoadableManifest&&e){let n=t.reactLoadableManifest;for(let t of e){if(!n[t])continue;let e=n[t].files;r.push(...e)}}return 0===r.length?null:(0,n.jsx)(n.Fragment,{children:r.map(e=>{let r=`${t.assetPrefix}/_next/${(0,d.encodeURIPath)(e)}`;return e.endsWith(".css")?(0,n.jsx)("link",{precedence:"dynamic",href:r,rel:"stylesheet",as:"style",nonce:t.nonce},e):((0,o.preload)(r,{as:"script",fetchPriority:"low",nonce:t.nonce}),null)})})}},69093,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return u}});let n=e.r(18050),o=e.r(71645),l=e.r(67585),d=e.r(52157);function a(e){return{default:e&&"default"in e?e.default:e}}let i={loader:()=>Promise.resolve(a(()=>null)),loading:null,ssr:!0},u=function(e){let t={...i,...e},r=(0,o.lazy)(()=>t.loader().then(a)),u=t.loading;function s(e){let a=u?(0,n.jsx)(u,{isLoading:!0,pastDelay:!0,error:null}):null,i=!t.ssr||!!t.loading,s=i?o.Suspense:o.Fragment,c=t.ssr?(0,n.jsxs)(n.Fragment,{children:["undefined"==typeof window?(0,n.jsx)(d.PreloadChunks,{moduleIds:t.modules}):null,(0,n.jsx)(r,{...e})]}):(0,n.jsx)(l.BailoutToCSR,{reason:"next/dynamic",children:(0,n.jsx)(r,{...e})});return(0,n.jsx)(s,{...i?{fallback:a}:{},children:c})}return s.displayName="LoadableComponent",s}},70703,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}});let n=e.r(55682)._(e.r(69093));function o(e,t){let r={};"function"==typeof e&&(r.loader=e);let o={...r,...t};return(0,n.default)({...o,modules:o.loadableGenerated?.modules})}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},78718,73433,e=>{"use strict";var t=e.i(71645),r=e.i(18566),n=e.i(58652);function o(){let{isLoggedIn:e,loading:o}=(0,n.useAuth)(),l=(0,r.useRouter)();return(0,t.useEffect)(()=>{o||e||(alert("접근 권한이 없습니다."),l.replace("/"))},[o,e,l]),{isLoading:o}}e.s(["useAuthGuard",()=>o],78718);var l=e.i(18050);let d=(0,e.i(70703).default)(()=>e.A(30512),{loadableGenerated:{modules:[6672]},ssr:!1,loading:()=>(0,l.jsx)("div",{style:{height:"500px",border:"1px solid #ddd",padding:"20px"},children:"에디터를 불러오는 중..."})});function a({initialTitle:e="",initialContent:r="",onSubmit:n,buttonText:o}){let[a,i]=(0,t.useState)(e),[u,s]=(0,t.useState)(r);return(0,t.useEffect)(()=>{i(e),s(r)},[e,r]),(0,l.jsxs)("form",{onSubmit:e=>{if(e.preventDefault(),!a.trim()||!u.trim())return alert("제목과 내용을 모두 입력해주세요.");n(a,u)},style:{display:"flex",flexDirection:"column",gap:"20px"},children:[(0,l.jsx)("input",{type:"text",value:a,onChange:e=>i(e.target.value),placeholder:"제목",style:{padding:"10px",fontSize:"1.2rem",fontWeight:"bold",border:"1px solid #ddd",borderRadius:"8px",height:"1.5rem",lineHeight:"1.5rem"}}),(0,l.jsx)(d,{markdown:u,onChange:e=>s(e)}),(0,l.jsx)("button",{type:"submit",style:{padding:"15px",background:"#333",color:"white",border:"none",borderRadius:"8px",cursor:"pointer",fontWeight:"bold",fontSize:"1rem"},children:o})]})}e.s(["default",()=>a],73433)},53525,e=>{"use strict";var t=e.i(18050),r=e.i(18566),n=e.i(26973),o=e.i(58652),l=e.i(78718),d=e.i(73433);function a(){let e=(0,r.useRouter)(),{logout:a}=(0,o.useAuth)(),{isLoading:i}=(0,l.useAuthGuard)(),u=async(t,r)=>{await n.PostService.create(t,r)&&(alert("저장 완료!"),e.push("/"))},s=async()=>{await a(),alert("시스템이 잠겼습니다."),e.push("/")};return i?null:(0,t.jsxs)("div",{style:{padding:"20px 0"},children:[(0,t.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"20px"},children:[(0,t.jsx)("h1",{children:"글 쓰기"}),(0,t.jsx)("button",{onClick:s,style:{padding:"8px 12px",fontSize:"0.8rem",background:"#eee",border:"1px solid #ddd",borderRadius:"5px",cursor:"pointer"},children:"Logout"})]}),(0,t.jsx)(d.default,{onSubmit:u,buttonText:"발행하기"})]})}e.s(["default",()=>a])},30512,e=>{e.v(t=>Promise.all(["static/chunks/de524362357f272b.js","static/chunks/d7197586601717ed.css"].map(t=>e.l(t))).then(()=>t(6672)))}]);