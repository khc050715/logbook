(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,95695,t=>{"use strict";var e=t.i(85001);t.i(36180);var r=t.i(98925);let o="posts",n=t=>{let e=t.data(),r=e.createdAt?.toDate?e.createdAt.toDate().toISOString():e.createdAt,o=e.updatedAt?.toDate?e.updatedAt.toDate().toISOString():e.updatedAt;return{id:t.id,...e,createdAt:r,updatedAt:o}},i=async(t,n)=>{try{return await (0,r.addDoc)((0,r.collection)(e.db,o),{title:t,content:n,createdAt:new Date().toISOString()}),!0}catch(t){return console.error("Error creating post:",t),!1}},d=async()=>{let t=(0,r.query)((0,r.collection)(e.db,o),(0,r.orderBy)("createdAt","desc"));return(await (0,r.getDocs)(t)).docs.map(n)},c=async t=>{let i=(0,r.doc)(e.db,o,t),d=await (0,r.getDoc)(i);return d.exists()?n(d):null},a=async(t,n,i)=>{try{let d=(0,r.doc)(e.db,o,t);return await (0,r.updateDoc)(d,{title:n,content:i,updatedAt:new Date().toISOString()}),!0}catch(t){return console.error("Error updating post:",t),!1}},s=async t=>{try{return await (0,r.deleteDoc)((0,r.doc)(e.db,o,t)),!0}catch(t){return console.error("Error deleting post:",t),!1}};t.s(["createPost",0,i,"deletePost",0,s,"getAllPosts",0,d,"getPostById",0,c,"updatePost",0,a])},1723,t=>{"use strict";var e=t.i(43476),r=t.i(71645),o=t.i(18566),n=t.i(95695),i=t.i(28003),d=t.i(58652);function c(){let t=(0,o.useSearchParams)(),c=(0,o.useRouter)(),a=t.get("id"),[s,l]=(0,r.useState)(null),[u,p]=(0,r.useState)(!0),{isLoggedIn:x,loading:g}=(0,d.useAuth)();(0,r.useEffect)(()=>{if(!g){if(!x)return void p(!1);a?(0,n.getPostById)(a).then(t=>{l(t),p(!1)}).catch(t=>{console.error(t),p(!1)}):p(!1)}},[a,g,x]);let h=async()=>{confirm("ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&(await (0,n.deletePost)(s.id)?(alert("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤."),c.push("/")):alert("ì‚­ì œ ì‹¤íŒ¨"))};return g?(0,e.jsx)("p",{style:{textAlign:"center",marginTop:"50px"},children:"ðŸ” ë³´ì•ˆ í™•ì¸ ì¤‘..."}):x?u?(0,e.jsx)("p",{style:{textAlign:"center",marginTop:"50px"},children:"ê¸€ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."}):s?(0,e.jsxs)("article",{children:[(0,e.jsx)("h1",{style:{fontSize:"2.2rem",marginBottom:"10px"},children:s.title}),(0,e.jsxs)("div",{style:{display:"flex",gap:"10px",marginBottom:"20px"},children:[(0,e.jsx)("button",{onClick:()=>c.push(`/edit?id=${s.id}`),style:{padding:"8px 15px",border:"1px solid #ccc",background:"#f9f9f9",cursor:"pointer",borderRadius:"5px"},children:"ìˆ˜ì •í•˜ê¸°"}),(0,e.jsx)("button",{onClick:h,style:{padding:"8px 15px",border:"1px solid #ff4d4f",background:"#fff",color:"#ff4d4f",cursor:"pointer",borderRadius:"5px"},children:"ì‚­ì œí•˜ê¸°"})]}),(0,e.jsx)("p",{style:{color:"#888",marginBottom:"40px",borderBottom:"1px solid #eee",paddingBottom:"20px"},children:new Date(s.createdAt).toLocaleString("ko-KR",{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!1})}),(0,e.jsx)(i.default,{content:s.content})]}):(0,e.jsx)("p",{style:{textAlign:"center",marginTop:"50px"},children:"ê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."}):(0,e.jsxs)("div",{style:{textAlign:"center",marginTop:"100px",color:"#888"},children:[(0,e.jsx)("h2",{style:{fontSize:"3rem",marginBottom:"20px"},children:"ðŸ”’"}),(0,e.jsx)("p",{children:"ë¹„ê³µê°œ ë¬¸ì„œìž…ë‹ˆë‹¤."}),(0,e.jsx)("p",{style:{fontSize:"0.9rem"},children:"ìƒë‹¨ 'Id Code'ë¥¼ ìž…ë ¥í•˜ì—¬ ìž ê¸ˆì„ í•´ì œí•˜ì„¸ìš”."})]})}function a(){return(0,e.jsx)(r.Suspense,{fallback:(0,e.jsx)("div",{children:"Loading..."}),children:(0,e.jsx)(c,{})})}t.s(["default",()=>a])}]);